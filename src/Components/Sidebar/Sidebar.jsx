import { useEffect, useRef, useState } from 'react';
import { Link, useLocation } from 'react-router-dom';
import './Sidebar.scss';

const sidebarNavItems = [
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M37.5 23.6252V15.1252C37.5 13.2502 36.7 12.5002 34.7125 12.5002H29.6625C27.675 12.5002 26.875 13.2502 26.875 15.1252V23.6252C26.875 25.5002 27.675 26.2502 29.6625 26.2502H34.7125C36.7 26.2502 37.5 25.5002 37.5 23.6252Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M37.5 34.8748V32.6248C37.5 30.7498 36.7 29.9998 34.7125 29.9998H29.6625C27.675 29.9998 26.875 30.7498 26.875 32.6248V34.8748C26.875 36.7498 27.675 37.4998 29.6625 37.4998H34.7125C36.7 37.4998 37.5 36.7498 37.5 34.8748Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M23.1249 26.3752V34.8752C23.1249 36.7502 22.3249 37.5002 20.3374 37.5002H15.2874C13.2999 37.5002 12.4999 36.7502 12.4999 34.8752V26.3752C12.4999 24.5002 13.2999 23.7502 15.2874 23.7502H20.3374C22.3249 23.7502 23.1249 24.5002 23.1249 26.3752Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M23.1249 15.1252V17.3752C23.1249 19.2502 22.3249 20.0002 20.3374 20.0002H15.2874C13.2999 20.0002 12.4999 19.2502 12.4999 17.3752V15.1252C12.4999 13.2502 13.2999 12.5002 15.2874 12.5002H20.3374C22.3249 12.5002 23.1249 13.2502 23.1249 15.1252Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ,
        to: '/',
        section: ''
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#FF0000" fill-opacity="0.1"/>
        <path d="M12.5 37.4998H37.5" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M13.6874 37.4998L13.7499 22.4623C13.7499 21.6998 14.1124 20.9749 14.7124 20.4999L23.4624 13.6874C24.3624 12.9874 25.6249 12.9874 26.5374 13.6874L35.2874 20.4874C35.8999 20.9624 36.2499 21.6873 36.2499 22.4623V37.4998" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M26.25 31.2502H23.75C22.7125 31.2502 21.875 32.0877 21.875 33.1252V37.5002H28.125V33.1252C28.125 32.0877 27.2875 31.2502 26.25 31.2502Z" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M21.875 27.1877H19.375C18.6875 27.1877 18.125 26.6252 18.125 25.9377V24.0627C18.125 23.3752 18.6875 22.8127 19.375 22.8127H21.875C22.5625 22.8127 23.125 23.3752 23.125 24.0627V25.9377C23.125 26.6252 22.5625 27.1877 21.875 27.1877Z" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M30.625 27.1877H28.125C27.4375 27.1877 26.875 26.6252 26.875 25.9377V24.0627C26.875 23.3752 27.4375 22.8127 28.125 22.8127H30.625C31.3125 22.8127 31.875 23.3752 31.875 24.0627V25.9377C31.875 26.6252 31.3125 27.1877 30.625 27.1877Z" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M33.7499 18.7498L33.7124 14.9998H28.2124" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ,
        to: '/AllProduct',
        section: 'AllProduct'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M20.0002 12.5002V16.2502" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M29.9998 12.5002V16.2502" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M14.3752 21.3626H35.6252" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M37.5002 33.75C37.5002 34.6875 37.2377 35.575 36.7752 36.325C35.9127 37.775 34.3252 38.75 32.5002 38.75C31.2377 38.75 30.0877 38.2875 29.2127 37.5C28.8252 37.175 28.4877 36.775 28.2252 36.325C27.7627 35.575 27.5002 34.6875 27.5002 33.75C27.5002 30.9875 29.7377 28.75 32.5002 28.75C34.0002 28.75 35.3377 29.4125 36.2502 30.45C37.0252 31.3375 37.5002 32.4875 37.5002 33.75Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M30.5502 33.7501L31.7877 34.9876L34.4502 32.5251" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M36.25 20.6252V30.4502C35.3375 29.4127 34 28.7502 32.5 28.7502C29.7375 28.7502 27.5 30.9877 27.5 33.7502C27.5 34.6877 27.7625 35.5752 28.225 36.3252C28.4875 36.7752 28.825 37.1752 29.2125 37.5002H20C15.625 37.5002 13.75 35.0002 13.75 31.2502V20.6252C13.75 16.8752 15.625 14.3752 20 14.3752H30C34.375 14.3752 36.25 16.8752 36.25 20.6252Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M24.9945 27.1252H25.0058" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.3677 27.1252H20.3789" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.3677 30.8752H20.3789" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ,
        to: '/AddProduct',
        section: 'AddProduct'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M20.0002 12.5002V16.2502" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M29.9998 12.5002V16.2502" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M14.3752 21.3626H35.6252" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M37.5002 33.75C37.5002 34.6875 37.2377 35.575 36.7752 36.325C35.9127 37.775 34.3252 38.75 32.5002 38.75C31.2377 38.75 30.0877 38.2875 29.2127 37.5C28.8252 37.175 28.4877 36.775 28.2252 36.325C27.7627 35.575 27.5002 34.6875 27.5002 33.75C27.5002 30.9875 29.7377 28.75 32.5002 28.75C34.0002 28.75 35.3377 29.4125 36.2502 30.45C37.0252 31.3375 37.5002 32.4875 37.5002 33.75Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M30.5502 33.7501L31.7877 34.9876L34.4502 32.5251" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M36.25 20.6252V30.4502C35.3375 29.4127 34 28.7502 32.5 28.7502C29.7375 28.7502 27.5 30.9877 27.5 33.7502C27.5 34.6877 27.7625 35.5752 28.225 36.3252C28.4875 36.7752 28.825 37.1752 29.2125 37.5002H20C15.625 37.5002 13.75 35.0002 13.75 31.2502V20.6252C13.75 16.8752 15.625 14.3752 20 14.3752H30C34.375 14.3752 36.25 16.8752 36.25 20.6252Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M24.9945 27.1252H25.0058" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.3677 27.1252H20.3789" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.3677 30.8752H20.3789" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ,
        to: '/calendar',
        section: 'calendar'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M20.0002 12.5002V16.2502" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M29.9998 12.5002V16.2502" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M14.3752 21.3626H35.6252" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M37.5002 33.75C37.5002 34.6875 37.2377 35.575 36.7752 36.325C35.9127 37.775 34.3252 38.75 32.5002 38.75C31.2377 38.75 30.0877 38.2875 29.2127 37.5C28.8252 37.175 28.4877 36.775 28.2252 36.325C27.7627 35.575 27.5002 34.6875 27.5002 33.75C27.5002 30.9875 29.7377 28.75 32.5002 28.75C34.0002 28.75 35.3377 29.4125 36.2502 30.45C37.0252 31.3375 37.5002 32.4875 37.5002 33.75Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M30.5502 33.7501L31.7877 34.9876L34.4502 32.5251" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M36.25 20.6252V30.4502C35.3375 29.4127 34 28.7502 32.5 28.7502C29.7375 28.7502 27.5 30.9877 27.5 33.7502C27.5 34.6877 27.7625 35.5752 28.225 36.3252C28.4875 36.7752 28.825 37.1752 29.2125 37.5002H20C15.625 37.5002 13.75 35.0002 13.75 31.2502V20.6252C13.75 16.8752 15.625 14.3752 20 14.3752H30C34.375 14.3752 36.25 16.8752 36.25 20.6252Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M24.9945 27.1252H25.0058" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.3677 27.1252H20.3789" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M20.3677 30.8752H20.3789" stroke="#292D32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>,
        to: '/user',
        section: 'user'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M21.6377 28.3748L23.5127 30.2498L28.5127 25.2498" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M22.5002 17.5002H27.5002C30.0002 17.5002 30.0002 16.2502 30.0002 15.0002C30.0002 12.5002 28.7502 12.5002 27.5002 12.5002H22.5002C21.2502 12.5002 20.0002 12.5002 20.0002 15.0002C20.0002 17.5002 21.2502 17.5002 22.5002 17.5002Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M30 15.0249C34.1625 15.2499 36.25 16.7874 36.25 22.4999V29.9999C36.25 34.9999 35 37.4999 28.75 37.4999H21.25C15 37.4999 13.75 34.9999 13.75 29.9999V22.4999C13.75 16.7999 15.8375 15.2499 20 15.0249" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        
        ,
        to: '/Orders',
        section: 'Orders'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M21.6377 28.3748L23.5127 30.2498L28.5127 25.2498" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M22.5002 17.5002H27.5002C30.0002 17.5002 30.0002 16.2502 30.0002 15.0002C30.0002 12.5002 28.7502 12.5002 27.5002 12.5002H22.5002C21.2502 12.5002 20.0002 12.5002 20.0002 15.0002C20.0002 17.5002 21.2502 17.5002 22.5002 17.5002Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M30 15.0249C34.1625 15.2499 36.25 16.7874 36.25 22.4999V29.9999C36.25 34.9999 35 37.4999 28.75 37.4999H21.25C15 37.4999 13.75 34.9999 13.75 29.9999V22.4999C13.75 16.7999 15.8375 15.2499 20 15.0249" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ,
        to: '/ProductStatus',
        section: 'ProductStatus'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#FF0000" fill-opacity="0.1"/>
        <path d="M12.5 37.4998H37.5" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M13.6874 37.4998L13.7499 22.4623C13.7499 21.6998 14.1124 20.9749 14.7124 20.4999L23.4624 13.6874C24.3624 12.9874 25.6249 12.9874 26.5374 13.6874L35.2874 20.4874C35.8999 20.9624 36.2499 21.6873 36.2499 22.4623V37.4998" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M26.25 31.2502H23.75C22.7125 31.2502 21.875 32.0877 21.875 33.1252V37.5002H28.125V33.1252C28.125 32.0877 27.2875 31.2502 26.25 31.2502Z" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M21.875 27.1877H19.375C18.6875 27.1877 18.125 26.6252 18.125 25.9377V24.0627C18.125 23.3752 18.6875 22.8127 19.375 22.8127H21.875C22.5625 22.8127 23.125 23.3752 23.125 24.0627V25.9377C23.125 26.6252 22.5625 27.1877 21.875 27.1877Z" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M30.625 27.1877H28.125C27.4375 27.1877 26.875 26.6252 26.875 25.9377V24.0627C26.875 23.3752 27.4375 22.8127 28.125 22.8127H30.625C31.3125 22.8127 31.875 23.3752 31.875 24.0627V25.9377C31.875 26.6252 31.3125 27.1877 30.625 27.1877Z" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linejoin="round"/>
        <path d="M33.7499 18.7498L33.7124 14.9998H28.2124" stroke="#DB1516" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>,
        to: '/ProductTraking',
        section: 'ProductTraking'
    },
    {
        display: '',
        icon: <svg width="40" height="40" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="50" height="50" rx="9" fill="#F5F5F5"/>
        <path d="M25 28.75C27.0711 28.75 28.75 27.0711 28.75 25C28.75 22.9289 27.0711 21.25 25 21.25C22.9289 21.25 21.25 22.9289 21.25 25C21.25 27.0711 22.9289 28.75 25 28.75Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M12.5002 26.0999V23.8999C12.5002 22.5999 13.5627 21.5249 14.8752 21.5249C17.1377 21.5249 18.0627 19.9249 16.9252 17.9624C16.2752 16.8374 16.6627 15.3749 17.8002 14.7249L19.9627 13.4874C20.9502 12.8999 22.2252 13.2499 22.8127 14.2374L22.9502 14.4749C24.0752 16.4374 25.9252 16.4374 27.0627 14.4749L27.2002 14.2374C27.7877 13.2499 29.0627 12.8999 30.0502 13.4874L32.2127 14.7249C33.3502 15.3749 33.7377 16.8374 33.0877 17.9624C31.9502 19.9249 32.8752 21.5249 35.1377 21.5249C36.4377 21.5249 37.5127 22.5874 37.5127 23.8999V26.0999C37.5127 27.3999 36.4502 28.4749 35.1377 28.4749C32.8752 28.4749 31.9502 30.0749 33.0877 32.0374C33.7377 33.1749 33.3502 34.6249 32.2127 35.2749L30.0502 36.5124C29.0627 37.0999 27.7877 36.7499 27.2002 35.7624L27.0627 35.5249C25.9377 33.5624 24.0877 33.5624 22.9502 35.5249L22.8127 35.7624C22.2252 36.7499 20.9502 37.0999 19.9627 36.5124L17.8002 35.2749C16.6627 34.6249 16.2752 33.1624 16.9252 32.0374C18.0627 30.0749 17.1377 28.4749 14.8752 28.4749C13.5627 28.4749 12.5002 27.3999 12.5002 26.0999Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        ,
        to: '/Settings',
        section: 'Settings'
    },
]

const Sidebar = () => {
    const [activeIndex, setActiveIndex] = useState(0);
    const [stepHeight, setStepHeight] = useState(0);
    const sidebarRef = useRef();
    const indicatorRef = useRef();
    const location = useLocation();

    useEffect(() => {
        setTimeout(() => {
            const sidebarItem = sidebarRef.current.querySelector('.sidebar__menu__item');
            indicatorRef.current.style.height = `${sidebarItem.clientHeight}px`;
            setStepHeight(sidebarItem.clientHeight);
        }, 50);
    }, []);

    // change active index
    useEffect(() => {
        const curPath = window.location.pathname.split('/')[1];
        const activeItem = sidebarNavItems.findIndex(item => item.section === curPath);
        setActiveIndex(curPath.length === 0 ? 0 : activeItem);
    }, [location]);

    return (
        <div className='sidebar'>
            <div className="sidebar__logo">
                <svg width="110" height="70" viewBox="0 0 136 93" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_166_3)">
                        <path d="M9.25655 74.0392C13.0372 74.0392 16.2961 75.9812 17.6783 79.5981H14.1064C13.1415 77.63 11.4206 76.7 9.25655 76.7C5.6641 76.7 3.05016 79.305 3.05016 83.4803C3.05016 87.6557 5.65726 90.2851 9.25655 90.2851C11.4206 90.2851 13.1415 89.3534 14.1064 87.387H17.6783C16.2961 91.0022 13.0372 92.918 9.25655 92.918C4.14501 92.9215 0 89.0393 0 83.4803C0 77.9493 4.14501 74.0392 9.25655 74.0392Z" fill="#DB1516" />
                        <path d="M26.9349 77.869C29.3589 77.869 31.0268 79.0398 31.9147 80.2367V78.1081H34.9118V92.7644H31.9147V90.5817C31.0012 91.831 29.2802 93.0017 26.8818 93.0017C23.1542 93.0017 20.1554 89.889 20.1554 85.3682C20.1554 80.8474 23.1542 77.869 26.9349 77.869ZM27.5593 80.5019C25.3439 80.5019 23.2056 82.2049 23.2056 85.3682C23.2056 88.5315 25.3439 90.3688 27.5593 90.3688C29.802 90.3688 31.9147 88.5874 31.9147 85.4223C31.9147 82.2834 29.802 80.5019 27.5593 80.5019Z" fill="#DB1516" />
                        <path d="M49.0182 84.5708C49.0182 81.8856 47.5846 80.502 45.4257 80.502C43.2668 80.502 41.8008 81.8856 41.8008 84.5708V92.761H38.8327V78.1046H41.8042V79.7813C42.769 78.5844 44.3599 77.8621 46.0809 77.8621C49.4441 77.8621 51.9725 80.0169 51.9725 84.112V92.754H49.0182V84.5708Z" fill="#DB1516" />
                        <path d="M61.927 93C57.8077 93 54.7558 90.0199 54.7558 85.4206C54.7558 80.8213 57.676 77.8673 61.927 77.8673C66.0207 77.8673 68.9135 80.7672 68.9135 85.0751C68.9179 85.5733 68.883 86.071 68.8091 86.5634H57.8316C58.0403 88.9835 59.7339 90.4456 61.9253 90.4456C63.7506 90.4456 64.7668 89.5418 65.3142 88.399H68.5217C67.7126 90.9534 65.4442 93 61.927 93ZM57.8573 84.119H65.8103C65.7573 81.8507 64.0106 80.4217 61.7953 80.4217C59.7869 80.4217 58.1635 81.8053 57.8573 84.119Z" fill="black" />
                        <path d="M77.0479 93C73.6059 93 71.1802 90.9255 71.0502 88.2664H74.1294C74.2338 89.4616 75.3543 90.4456 76.9965 90.4456C78.7175 90.4456 79.631 89.7023 79.631 88.6904C79.631 85.8184 71.2862 87.469 71.2862 82.0967C71.2862 79.7552 73.4246 77.8673 76.8152 77.8673C80.0741 77.8673 82.2124 79.6488 82.3681 82.5783H79.3949C79.2906 81.3011 78.3257 80.4235 76.7091 80.4235C75.0925 80.4235 74.2834 81.0882 74.2834 82.0723C74.2834 85.0245 82.3921 83.3757 82.5494 88.6677C82.5494 91.1401 80.4367 93 77.0479 93Z" fill="black" />
                        <path d="M86.2189 80.5822H84.5236V78.1081H86.2189V74.4649H89.2177V78.1081H92.7195V80.5822H89.2245V88.6921C89.2245 89.7826 89.6402 90.2362 90.8925 90.2362H92.7195V92.761H90.3707C87.8149 92.761 86.2257 91.6705 86.2257 88.6921L86.2189 80.5822Z" fill="black" />
                        <path d="M101.244 77.869C103.668 77.869 105.338 79.0398 106.224 80.2367V78.1081H109.223V92.7644H106.224V90.5817C105.312 91.831 103.591 93 101.193 93C97.4633 93 94.4644 89.8873 94.4644 85.3665C94.4644 80.8457 97.4633 77.869 101.244 77.869ZM101.87 80.5019C99.6461 80.5019 97.5146 82.2049 97.5146 85.3682C97.5146 88.5315 99.6529 90.3688 101.87 90.3688C104.087 90.3688 106.224 88.5874 106.224 85.4223C106.224 82.2834 104.111 80.5019 101.87 80.5019Z" fill="black" />
                        <path d="M113.604 80.5822H111.908V78.1081H113.604V74.4649H116.601V78.1081H120.091V80.5822H116.601V88.6921C116.601 89.7826 117.018 90.2362 118.27 90.2362H120.091V92.761H117.749C115.193 92.761 113.604 91.6705 113.604 88.6921V80.5822Z" fill="black" />
                        <path d="M129.012 93C124.893 93 121.842 90.0199 121.842 85.4206C121.842 80.8213 124.763 77.8673 129.012 77.8673C133.106 77.8673 136 80.7672 136 85.0751C136.004 85.5733 135.97 86.071 135.896 86.5634H124.918C125.127 88.9835 126.822 90.4456 129.012 90.4456C130.837 90.4456 131.855 89.5418 132.402 88.399H135.608C134.803 90.9534 132.532 93 129.012 93ZM124.944 84.119H132.897C132.846 81.8507 131.097 80.4217 128.882 80.4217C126.873 80.4217 125.259 81.8053 124.944 84.119Z" fill="black" />
                        <path d="M48.8454 49.5543L56.0833 53.5673C56.0833 53.5673 56.2903 53.3562 57.3236 53.7784C58.3568 54.2007 60.632 55.4657 60.632 55.4657C60.632 55.4657 56.8069 57.6781 55.7685 65.2715L52.4601 62.9509L52.2565 62.1169L48.741 60.4296L48.8454 49.5543Z" fill="black" />
                        <path d="M54.5317 63.3732C54.989 63.3732 55.3597 62.9951 55.3597 62.5287C55.3597 62.0623 54.989 61.6842 54.5317 61.6842C54.0744 61.6842 53.7037 62.0623 53.7037 62.5287C53.7037 62.9951 54.0744 63.3732 54.5317 63.3732Z" fill="black" />
                        <path d="M66.9394 55.5686C66.9394 55.5686 65.4921 54.7259 64.4572 55.1481C63.4222 55.5704 60.9417 55.9909 60.9417 55.9909C60.9417 55.9909 56.8069 60.0039 56.8069 64.2176C56.8069 64.2176 57.0139 65.0604 58.0472 64.427C59.0805 63.7937 60.5294 64.427 60.7364 64.8493C60.7364 64.8493 63.0099 62.5304 64.2519 65.2715C64.2519 65.2715 66.5254 65.4826 66.3184 67.1699C66.3184 67.1699 67.9726 67.381 68.1796 68.8571L70.4548 70.5443C70.4548 70.5443 72.1091 71.3888 72.1091 69.4974L70.2479 67.8102C70.2479 67.8102 70.2478 67.388 70.6618 67.8102C71.0758 68.2324 72.5231 69.0752 72.5231 69.0752C72.5231 69.0752 74.3843 69.7068 73.9703 68.0283L71.2828 65.2872C71.2828 65.2872 70.8688 64.865 71.2828 65.0761C71.6968 65.2872 73.9703 67.3967 73.9703 67.3967C73.9703 67.3967 75.8315 67.8189 75.4176 66.3411C75.4176 66.3411 70.2478 60.6478 68.8006 59.8033C68.8006 59.8033 67.7742 59.5922 67.1464 60.8502C66.5185 62.1082 63.8379 62.7485 63.2118 61.4835C62.5857 60.2185 64.6642 57.0465 64.6642 57.0465L66.9394 55.5686Z" fill="black" />
                        <path d="M68.8006 55.3593L65.0781 57.6781L63.4239 61.0526C63.4239 61.0526 65.2851 63.5843 67.5603 58.7337C67.5603 58.7337 67.9726 57.8892 67.7673 59.1542C67.7673 59.1542 69.4216 58.7337 69.8339 58.1073L69.2146 59.1542L76.0385 65.9049C76.0385 65.9049 79.14 65.0604 79.761 63.7954C79.761 63.7954 79.761 60.4209 76.0385 55.9909C76.0385 55.9909 69.8339 56.4131 68.8006 55.3593Z" fill="black" />
                        <path d="M76.0385 55.5686C76.0385 55.5686 80.1733 58.3114 80.9995 65.2715H81.4135L84.7237 63.1638L84.5167 62.1169L88.0322 60.4296V49.4531L80.5872 53.6703L80.3802 53.2498L76.0385 55.5686Z" fill="black" />
                        <path d="M82.4485 63.1621C82.9058 63.1621 83.2765 62.784 83.2765 62.3176C83.2765 61.8512 82.9058 61.4731 82.4485 61.4731C81.9912 61.4731 81.6205 61.8512 81.6205 62.3176C81.6205 62.784 81.9912 63.1621 82.4485 63.1621Z" fill="black" />
                        <path d="M58.8752 64.6381L57.5306 66.0095C57.5306 66.0095 57.2209 67.381 58.6682 67.381C58.6682 67.381 59.0822 69.4904 60.7364 68.8571C60.7364 68.8571 61.3557 70.9665 63.0099 70.1221C63.0099 70.1221 63.8379 72.2315 65.4921 71.1777C67.1464 70.1238 67.5603 69.0682 67.5603 69.0682C67.5603 69.0682 67.1464 67.5921 66.1114 67.8032L64.2519 69.2793C64.2519 69.2793 64.0449 69.0682 65.2783 67.8032C65.2783 67.8032 66.1045 66.5365 65.0713 66.1142C64.038 65.692 62.7961 67.381 62.3838 67.8032L61.9766 68.2237L63.2169 66.3253C63.2169 66.3253 63.8379 65.4826 63.0099 64.8492C62.1819 64.2159 61.5627 65.0604 61.5627 65.0604L60.3224 66.5365L60.1154 66.3253C60.1154 66.3253 60.7364 65.4826 60.1154 64.8492C59.4944 64.2159 58.8752 64.6381 58.8752 64.6381Z" fill="black" />
                        <path d="M67.9726 69.0682C67.9726 69.0682 67.9726 70.5443 67.1464 70.7555L68.5936 71.5982C68.5936 71.5982 69.62 71.8093 69.8339 71.1777C70.0477 70.5461 69.4216 70.1221 69.4216 70.1221L67.9726 69.0682Z" fill="black" />
                        <path d="M67.7075 41.816H64.8267V44.7543H67.7075V41.816Z" fill="black" />
                        <path d="M72.1741 41.816H69.2933V44.7543H72.1741V41.816Z" fill="black" />
                        <path d="M67.7075 46.37H64.8267V49.3083H67.7075V46.37Z" fill="black" />
                        <path d="M72.1741 46.37H69.2933V49.3083H72.1741V46.37Z" fill="black" />
                        <path d="M87.0383 48.715V62.342L108.08 44.2867L102.736 41.5613L106.744 28.6149L94.0521 31.3402L91.38 24.5268L80.6916 34.7478L84.0326 10.2193L76.0163 15.6701L68 0L59.9837 15.6701L51.9674 10.2193L55.3084 34.7478L44.62 24.5268L41.9479 31.3402L29.2563 28.6149L33.2644 41.5613L27.9202 44.2867L48.9617 62.342V48.715L45.6225 50.7582L43.6175 48.715L68 31.3402L92.3825 48.715L90.3776 50.7582L87.0383 48.715Z" fill="#DB1516" />
                    </g>
                    <defs>
                        <clipPath id="clip0_166_3">
                            <rect width="136" height="93" fill="white" />
                        </clipPath>
                    </defs>
                </svg>

            </div>
            <div ref={sidebarRef} className="sidebar__menu">
                <div
                    ref={indicatorRef}
                    className="sidebar__menu__indicator"
                    style={{
                        transform: `translateX(-50%) translateY(${activeIndex * stepHeight}px)`
                    }}
                ></div>
                {
                    sidebarNavItems.map((item, index) => (
                        <Link to={item.to} key={index}>
                            <div className={`sidebar__menu__item ${activeIndex === index ? 'active' : ''}`}>
                                <div className="sidebar__menu__item__icon">
                                    {item.icon}
                                </div>
                                <div className="sidebar__menu__item__text">
                                    {item.display}
                                </div>
                            </div>
                        </Link>
                    ))
                }
            </div>
        </div>
    )
};

export default Sidebar;